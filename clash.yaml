# =====================================================
# Clash Transport Baseline (FINAL)
# Scope : Transport & Routing Only
# Usage : Mobile (Clash Android) / Linux (Debian)
# =====================================================

# ---------------- Core ----------------
mixed-port: 7890
allow-lan: false
mode: rule
log-level: info

# ---------------- DNS -----------------
dns:
  enable: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  ipv6: false

  default-nameserver:
    - 1.1.1.1
    - 8.8.8.8

  nameserver:
    - 1.1.1.1
    - 9.9.9.9
    - 8.8.4.4
    - 1.0.0.1

# ---------------- Proxies -------------
# GANTI SEMUA NILAI CHANGE_ME_* DENGAN YANG SEBENAR
proxies:
  - name: edge-01
    type: ss
    server: CHANGE_ME_EDGE1_IP_OR_DOMAIN
    port: 443
    cipher: chacha20-ietf-poly1305
    password: CHANGE_ME_EDGE1_PASSWORD
    udp: true

  # Optional second node
  # - name: edge-02
  #   type: ss
  #   server: CHANGE_ME_EDGE2_IP_OR_DOMAIN
  #   port: 443
  #   cipher: chacha20-ietf-poly1305
  #   password: CHANGE_ME_EDGE2_PASSWORD
  #   udp: true

# ---------------- Groups --------------
proxy-groups:
  - name: OUTBOUND
    type: fallback
    url: https://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - edge-01
      # - edge-02

# ---------------- Rules ---------------
rules:
  # ======= IN-SCOPE (EDIT) =======
  # Contoh target bug bounty / pentest
  - DOMAIN-SUFFIX,example.com,OUTBOUND
  - DOMAIN-SUFFIX,api.example.com,OUTBOUND

  # ======= DEFAULT =======
  # Android & CLI friendly
  - MATCH,DIRECT
