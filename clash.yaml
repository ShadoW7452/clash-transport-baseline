# ============================================
# Clash Transport Baseline
# Mobile-safe configuration for pentesting
# Scope: Transport & routing only (NOT WAF bypass)
# ============================================

mixed-port: 7890
allow-lan: false
mode: rule
log-level: warning

# ---------------- DNS ------------------------
dns:
  enable: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  default-nameserver:
    - 1.1.1.1
    - 8.8.8.8
  nameserver:
    - 1.1.1.1
    - 9.9.9.9
  fallback:
    - 8.8.8.8
    - 1.0.0.1
  ipv6: false

# ---------------- PROXIES --------------------
# Replace CHANGE_ME_* with your own values
proxies:
  - name: edge-01
    type: ss
    server: CHANGE_ME_EDGE1_IP_OR_DOMAIN
    port: 443
    cipher: chacha20-ietf-poly1305
    password: CHANGE_ME_PASSWORD1
    udp: true

  - name: edge-02
    type: ss
    server: CHANGE_ME_EDGE2_IP_OR_DOMAIN
    port: 443
    cipher: chacha20-ietf-poly1305
    password: CHANGE_ME_PASSWORD2
    udp: true

# ---------------- GROUPS ---------------------
# Automatic failover for mobile stability
proxy-groups:
  - name: OUTBOUND
    type: fallback
    url: https://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - edge-01
      - edge-02

# ---------------- RULES ----------------------
rules:
  # Example in-scope target (edit/remove as needed)
  - DOMAIN-SUFFIX,example.com,OUTBOUND

  # Default safe behavior (Android stable)
  - MATCH,DIRECT
